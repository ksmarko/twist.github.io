<html>
   <head>
      <title>5 lab</title>
      <link rel="stylesheet" type="text/css" href="bootstrap.min.css">
      <link rel="stylesheet" type="text/css" href="styles.css">
      <script src='jquery-1.12.4.js' type="text/javascript"></script>
   </head>
   <body>
   <div class="col-md-4 col-md-offset-4">
   	   	<div align="center">
   			<h2>Sign In</h2>
   		</div>  
   		<form class="form" id="form-register">
   			<p>Email</p>
            <input id="email" name="email" class="form-control" type="email" placeholder="example@email.com" required autofocus>
            <p>Password</p>
            <input id="password-1" name="password" class="form-control" type="password" placeholder="password" required>
            <p>Repeat password</p>
            <input id="password-2" name="password" class="form-control" type="password" placeholder="password" required>
            <p>
            	<input class="btn btn-success col-md-4" type="submit" value="Sign In">   
            </p>
   		</form>
   </div>
   <div class="col-md-4 col-md-offset-4">
   	   	<div align="center">
   			<h2>Log In</h2>
   		</div>  
   		<form class="form" id="form-login">
   			<p>Username</p>
            <input id="username" name="user" class="form-control" type="text" placeholder="@user" required>
            <p>Password</p>
            <input id="password" name="password" class="form-control" type="password" placeholder="password">
            <p>
            	<input class="btn btn-success col-md-4" type="submit" value="Log In">   
            </p>
   		</form>
   </div>
   <div class="col-md-4 col-md-offset-4">
   	<div align="center">
      <br><br>
   		<h2>Test yourself</h2>
   	</div>      	
      	<form method="post" name="test">
            <fieldset style="width:500px" align=left>
                    <fieldset>
                        <legend>Как расшифровывается аббревиатура "HTML"?</legend>
                            <input type="radio" name="answer1" value="11">Hyper Technology Mark Language<br>
                            <input type="radio" name="answer1" value="12">Hyper Text Narkup Language
                    </fieldset>
                    <fieldset>
                        <legend>Какой тег позволяет вставлять картинки в HTML документы?</legend>
                            <input type="radio" name="answer2" value="21">img<br>
                            <input type="radio" name="answer2" value="22">picture
                    </fieldset><br>
                    <fieldset>
                        <legend>Что такое HTML?</legend>
                            <input type="radio" name="answer3" value="31">Язык разметки<br>
                            <input type="radio" name="answer3" value="32">Язык программирования<br>
                            <input type="radio" name="answer3" value="33">Язык моделирования
                    </fieldset><br>
                    <fieldset>
                        <legend>С помощью какого тэга можно сделать текст жирным?</legend>
                            <input type="radio" name="answer4" value="41">i<br>
                            <input type="radio" name="answer4" value="42">b
                    </fieldset><br>
                    <fieldset>
                        <legend>Как расшифровывается XML?</legend>
                            <input type="radio" name="answer5" value="51">Extensible Markup Language<br>
                            <input type="radio" name="answer5" value="52">Cross Markup Language
                    </fieldset><br>
                    <fieldset>
                        <legend>Укажите тэг, позволяющий создавать заголовки.</legend>
                            <input type="radio" name="answer6" value="61">h<br>
                            <input type="radio" name="answer6" value="62">br
                    </fieldset><br>
                    <fieldset>
                        <legend>C помощью какого тэга можно сделать текст курсивом?</legend>
                            <input type="radio" name="answer7" value="71">b<br>
                            <input type="radio" name="answer7" value="72">i
                    </fieldset><br>
                    <fieldset>
                        <legend>Укажите тег, позволяющий определить таблицу.</legend>
                            <input type="radio" name="answer8" value="81">table<br>
                            <input type="radio" name="answer8" value="82">tr
                    </fieldset><br>
                    <fieldset>
                        <legend>Укажите тег, позволяющий определить упорядоченный список.</legend>
                            <input type="radio" name="answer9" value="91">ul<br>
                            <input type="radio" name="answer9" value="92">li
                    </fieldset><br>
                    <fieldset>
                        <legend>HTML чувствителен к регистру?</legend>
                            <input type="radio" name="answer10" value="101">Да<br>
                            <input type="radio" name="answer10" value="102">Нет
                    </fieldset><br>
                <hr>
            <table>
            <tr align="center">
            <td><strong><input name="check" onclick="dataBase(this.form)" value=" Get result " type="button"></strong></td>
            <td><strong><textarea cols="5" name="display" rows="1" wrap="VIRTUAL" disabled></textarea></strong></td>

            </tr>
            </table>
            </fieldset>
        </form>
    </div>

<script type="text/javascript">

            function dataBase(test) {
                 var counter=0;
                 if (test.answer1[1].checked) {counter++;}
                 if (test.answer2[0].checked) {counter++;}
                 if (test.answer3[0].checked) {counter++;}
                 if (test.answer4[1].checked) {counter++;}
                 if (test.answer5[0].checked) {counter++;}
                 if (test.answer6[0].checked) {counter++;}
                 if (test.answer7[1].checked) {counter++;}
                 if (test.answer8[0].checked) {counter++;}
                 if (test.answer9[1].checked) {counter++;}
                 if (test.answer10[1].checked) {counter++;}

                 document.test.display.value = counter;
            }

	$(document).ready(function () {
        $("#form-login").submit(function( event ) {
        	event.preventDefault();

			var email = document.getElementById("username").value;
			var password = document.getElementById("password").value;

        	if (!password)
        	{
        		alert("Error. Password missed.")
        	}
        	else 
        	{
        		var correctPassword = sessionStorage.getItem("password");
        		var correctEmail = sessionStorage.getItem("email");
        		if (password === correctPassword && email === correctEmail)
        		{
        			alert ("Login success");
        			document.getElementById("username").value = '';
					document.getElementById("password").value = '';
        		}
        		else 
        		{
        			alert ("Invalid email or password");
        		}
        	}        	
		});

		$("#form-register").submit(function( event ) {
        	event.preventDefault();

			var email = document.getElementById("email").value;
			var password1 = document.getElementById("password-1").value;
			var password2 = document.getElementById("password-2").value;

			if (password1 !== password2)
			{
				alert("Different passwords.")
			}
			else 
			{
				sessionStorage.setItem("email", email);
				sessionStorage.setItem("password", password1);
				alert("Sign in success");
				document.getElementById("email").value = '';
				document.getElementById("password-1").value = '';
				document.getElementById("password-2").value = '';
			}        	
		});
    });
</script>
</body>
</html>